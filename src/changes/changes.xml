<?xml version="1.0" encoding="UTF-8"?>
<!-- vi: set sw=2: -->
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<document xmlns="http://maven.apache.org/changes/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 http://maven.apache.org/xsd/changes-1.0.0.xsd">
  <properties>
    <title>Changes</title>
  </properties>
  <body>
    <!-- NOTE: the text node in an action element is interpreted as Markdown in the release notes! -->
    <!-- The "type" attribute can have the following values:
         - "add" - New Feature
         - "fix" - Fixed Bug
         - "update" - Change
         - "remove" - Removed
    -->
    <release version="3.0.0" date="TBD" description="GA Release 3.0.0">
      <action issue="LOG4J2-3626" dev="mattsicker" type="update">
        Flatten the ThreadContextMap interfaces with default methods.
      </action>
      <action issue="LOG4J2-3300" dev="mattsicker" type="add">
        Add conditional annotations to support more declarative binding factory bundle classes.
      </action>
      <action issue="LOG4J2-857" dev="mattsicker" type="add">
        Add `@Ordered` annotation to support plugin ordering when two or more plugins within the same category have
        the same case-insensitive name.
      </action>
      <action issue="LOG4J2-3441" dev="mattsicker" type="update">
        Defer loading of StrLookup plugin classes until first usage.
      </action>
      <action issue="LOG4J2-3415" dev="mattsicker" type="add">
        Add built-in JSON configuration parser for a useful structured configuration file format which only requires
        the `java.base` module.
      </action>
      <action issue="LOG4J2-2854" dev="mattsicker" type="add">
        Create standardized dependency injection API. This is supported in several plugin categories and other configurable
        instances previously defined via system properties.
      </action>
      <action issue="LOG4J2-2852" dev="mattsicker" type="add">
        Add scopes API for customizing plugin instance lifecycle.
      </action>
      <action issue="LOG4J2-2853" dev="mattsicker" type="add">
        Add qualifier annotations for distinguishing instances of the same type.
      </action>
      <action issue="LOG4J2-1188" dev="mattsicker" type="add">
        Allow plugins to be created through more flexible dependency injection patterns.
      </action>
      <action issue="LOG4J2-3307" dev="rgoers" type="update">
        Move Scripting to its own module.
      </action>
      <action issue="LOG4J2-3242" dev="rgoers" type="fix">
        Move JNDI to its own module.
      </action>
      <action issue="LOG4J2-2400" dev="rgoers" type="add" due-to="Natalie Meurer">
        Add Redis Appender.
      </action>
      <action issue="LOG4J2-2749" dev="vy" type="fix" due-to="Oleksii Khomchenko">
        JsonLayout KeyValuePair should discard blank JSON keys.
      </action>
      <action issue="LOG4J2-2344" dev="vy" type="fix" due-to="dengliming">
        Fix exception message in PropertiesConfigurationBuilder#createFilter().
      </action>
      <action issue="LOG4J2-2795" dev="rgoers" type="fix">
        Reduce Log4j 2 initialization time by deferring loading Plugin classes.
      </action>
      <action issue="LOG4J2-2688" dev="rgoers" type="add" due-to="Romain Manni-Bucau">
        Allow web lookup of session attributes.
      </action>
      <action issue="LOG4J2-2701" dev="rgoers" type="update">
        Update Jackson from 2.9.x to 2.10.1.
      </action>
      <action issue="LOG4J2-2700" dev="mattsicker" type="add">
        Add support for injecting plugin configuration via builder methods.
      </action>
      <action issue="LOG4J2-860" dev="mattsicker" type="update">
        Unify plugin builders and plugin factories.
      </action>
      <action issue="LOG4J2-2690" dev="rgoers" type="update">
        Locate plugins in modules.
      </action>
      <action issue="LOG4J2-2617" dev="mattsicker" type="update">
        Fix typo in method MergeStrategy.mergeConfigurations.
      </action>
      <action issue="LOG4J2-2683" dev="mattsicker" type="update">
        Rename PluginVisitor and related classes to ConfigurationInjectionBuilder.
      </action>
      <action issue="LOG4J2-2523" dev="rgoers" type="update" due-to="Romain Manni-Bucau">
        Allow web lookup to access more information.
      </action>
      <action issue="LOG4J2-2621" dev="rgoers" type="update">
        Separate plugin support to its own module. Plugin annotation processor will now generate a Java source
        file compatible with java.util.ServiceLoader instead of a binary file.
      </action>
      <action issue="LOG4J2-2025" dev="rgoers" type="add" due-to="Thies Wellpott">
        Implement JUL Bridge Handler.
      </action>
      <action issue="LOG4J2-2171" dev="rmannibucau" type="add">
        Allow to force LOG4J2 to use TCCL only.
      </action>
      <action issue="LOG4J2-1802" dev="mattsicker" type="add">
        Convert documentation into AsciiDoc format.
      </action>
      <action issue="LOG4J2-2255" dev="rgoers" type="update">
        Use Spotbugs instead of Findbugs. Minimum version is Java 8.
      </action>
      <action issue="LOG4J2-2224" dev="rpopma" type="update">
        Renamed package core.util.datetime to core.time.internal.format to clarify these classes are to be considered private.
      </action>
      <action issue="LOG4J2-2225" dev="rpopma" type="update">
        Moved time-related classes from core.util to core.time. Classes considered private moved to core.time.internal.
      </action>
      <action issue="LOG4J2-2228" dev="ggregory" type="update">
        Split off ZeroMq/JeroMq support into a new module log4j-jeromq.
      </action>
      <action issue="LOG4J2-2227" dev="ggregory" type="update">
        Split off Kafka support into a new module log4j-kafka.
      </action>
      <action issue="LOG4J2-2230" dev="ggregory" type="update">
        Split off SMTP support into a new module log4j-smtp.
      </action>
      <action issue="LOG4J2-2231" dev="ggregory" type="update">
        Move CSV layout from log4j-core to a new module log4j-csv.
      </action>
      <action issue="LOG4J2-2232" dev="ggregory" type="update">
        Move JMS code to a new module log4j-jms.
      </action>
      <action issue="LOG4J2-2233" dev="ggregory" type="update">
        Move JDBC code to a new module log4j-jdbc.
      </action>
      <action issue="LOG4J2-2244" dev="ggregory" type="fix">
        org.apache.logging.log4j.core.lookup.EnvironmentLookup may throw NPE.
      </action>
      <action issue="LOG4J2-2237" dev="ggregory" type="update">
        Move Jackson-based layouts to their own modules: JSON, XML, and YAML.
      </action>
      <action issue="LOG4J2-2082" dev="ggregory" type="update">
        Update Apache Flume from 1.7.0 to 1.8.0.
      </action>
      <action issue="LOG4J2-2079" dev="ggregory" type="update" >
        Update Conversant Disruptor from 1.12.10 to 1.12.11.
      </action>
      <action issue="LOG4J2-2258" dev="ggregory" type="update" >
        Update LMAX Disruptor from 3.3.7 to 3.3.8.
      </action>
      <action issue="LOG4J2-2083" dev="ggregory" type="update">
        Update Eclipse javax.persistence from 2.1.1 to 2.2.0.
      </action>
      <action issue="LOG4J2-2083" dev="ggregory" type="update">
        Update build to expect Java 8 sources and generate Java 8 byte codes.
      </action>
      <action issue="LOG4J2-2279" dev="ggregory" type="fix" due-to="Remko Popma">
        Move ProcessIdUtil from log4j-api to log4j-core.
      </action>
      <action issue="LOG4J2-2306" dev="ckozak" type="fix">
        FixedDateFormat parses timezone offsets, -8:00 is interpreted as GMT-8:00.
      </action>
      <action issue="LOG4J2-2380" dev="ggregory" type="update">
        Update Conversant Disruptor 1.2.11 to 1.2.13.
      </action>
      <action issue="LOG4J2-2383" dev="ggregory" type="update">
        Update org.eclipse.persistence.jpa from 2.7.1 to 2.7.2
      </action>
      <action issue="LOG4J2-2387" dev="ggregory" type="update">
        Update optional Apache Commons DBCP from 2.4.0 to 2.5.0.
      </action>
      <action issue="LOG4J2-2473" dev="ggregory" type="update">
        Update org.eclipse.persistence:javax.persistence from 2.2.0 to 2.2.1.
      </action>
      <action issue="LOG4J2-2492" dev="ggregory" type="update">
        Update builder methods from the "with" prefix to the "set" prefix.
      </action>
      <action issue="LOG4J2-2493" dev="ggregory" type="update">
        Remove deprecated code.
      </action>
      <action issue="LOG4J2-2545" dev="ckozak" type="fix">
        RoutingAppender.BuilderlsetPurgePolicy fluently returns the builder instance.
      </action>
      <action issue="LOG4J2-2571" dev="ggregory" type="update">
        Update conversant disruptor from 1.2.13 to 1.2.15.
      </action>
      <action issue="LOG4J2-2572" dev="ggregory" type="update">
        Update Apache Flume from 1.8.0 to 1.9.0.
      </action>
      <action issue="LOG4J2-2850" dev="vy" type="fix" due-to="sandeepbarnwal">
        Fixes incorrect constructor call in LocalizedMessageFactory.
      </action>
    </release>
  </body>
</document>
